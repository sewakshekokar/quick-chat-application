{"ast":null,"code":"import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Header(_ref){let{socket}=_ref;const{user}=useSelector(state=>state.userReducer);const navigate=useNavigate();function getFullname(){let fname=(user===null||user===void 0?void 0:user.firstname.at(0).toUpperCase())+(user===null||user===void 0?void 0:user.firstname.slice(1).toLowerCase());let lname=(user===null||user===void 0?void 0:user.lastname.at(0).toUpperCase())+(user===null||user===void 0?void 0:user.lastname.slice(1).toLowerCase());return fname+' '+lname;}function getInitials(){let f=user===null||user===void 0?void 0:user.firstname.toUpperCase()[0];let l=user===null||user===void 0?void 0:user.lastname.toUpperCase()[0];return f+l;}const logout=()=>{localStorage.removeItem('token');navigate('/login');socket.emit('user-offline',user._id);};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"app-logo\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-comments\",\"aria-hidden\":\"true\"}),\"Quick Chat\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"app-user-profile\",children:[(user===null||user===void 0?void 0:user.profilePic)&&/*#__PURE__*/_jsx(\"img\",{src:user===null||user===void 0?void 0:user.profilePic,alt:\"profile-pic\",className:\"logged-user-profile-pic\",onClick:()=>navigate('/profile')}),!(user!==null&&user!==void 0&&user.profilePic)&&/*#__PURE__*/_jsx(\"div\",{className:\"logged-user-profile-pic\",onClick:()=>navigate('/profile'),children:getInitials()}),/*#__PURE__*/_jsx(\"div\",{className:\"logged-user-name\",children:getFullname()}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-button\",onClick:logout,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-power-off\"})})]})]});}export default Header;","map":{"version":3,"names":["useDispatch","useSelector","useNavigate","jsx","_jsx","jsxs","_jsxs","Header","_ref","socket","user","state","userReducer","navigate","getFullname","fname","firstname","at","toUpperCase","slice","toLowerCase","lname","lastname","getInitials","f","l","logout","localStorage","removeItem","emit","_id","className","children","profilePic","src","alt","onClick"],"sources":["/Users/sewak/Desktop/quick-chat-application/client/src/pages/home/components/header.js"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Header( {socket }){\r\n    const { user } = useSelector(state => state.userReducer);\r\n    const navigate = useNavigate();\r\n    function getFullname(){\r\n        let fname = user?.firstname.at(0).toUpperCase() + user?.firstname.slice(1).toLowerCase();\r\n        let lname = user?.lastname.at(0).toUpperCase() + user?.lastname.slice(1).toLowerCase();\r\n        return fname + ' ' + lname;\r\n    }\r\n\r\n    function getInitials(){\r\n        let f = user?.firstname.toUpperCase()[0];\r\n        let l = user?.lastname.toUpperCase()[0];\r\n        return f + l;\r\n    }\r\n\r\n    const logout = () => {\r\n        localStorage.removeItem('token');\r\n        navigate('/login');\r\n        socket.emit('user-offline', user._id);\r\n    }\r\n\r\n    return (\r\n            <div className=\"app-header\">\r\n                <div className=\"app-logo\">\r\n                    <i className=\"fa fa-comments\" aria-hidden=\"true\"></i>\r\n                    Quick Chat\r\n                    </div>\r\n                <div className=\"app-user-profile\">\r\n                    {user?.profilePic && <img src={user?.profilePic} alt=\"profile-pic\" className=\"logged-user-profile-pic\" onClick={ () => navigate('/profile')}></img>}\r\n                    { !user?.profilePic && <div className=\"logged-user-profile-pic\" onClick={ () => navigate('/profile')}>{ getInitials() }</div>}\r\n                    <div className=\"logged-user-name\">{ getFullname() }</div>\r\n                    <button className=\"logout-button\" onClick={ logout }>\r\n                        <i className=\"fa fa-power-off\"></i>\r\n                    </button>\r\n                    \r\n                </div>\r\n            </div>\r\n            )\r\n}\r\n\r\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}